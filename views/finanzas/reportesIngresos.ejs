<!DOCTYPE html>
<html lang="es">
    <head>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <!-- FontAwesome para íconos -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
        <!-- Estilos personalizados -->
        <link rel="stylesheet" href="styles/reporteCitas.css">

        <title>Reporte de Ingresos</title>
    </head>
    <body>

        <main>
            <%- include('../partials/navegacion') %>

            <section class="contenido">
                
                <%- include('../partials/tituloPagina.ejs') %>

                <section class="bloque-flex">
                    <div class="container">
                        <h1>Reporte de ingresos</h1>
                        <table id="tablaInventario" class="table table-striped table-bordered text-center">
                            <thead>
                                <tr>
                                    <th scope="col">Fecha Ingreso</th>
                                    <th scope="col">Descripción</th>
                                    <th scope="col">Monto Total</th>
                                    <th scope="col">Número de Factura</th>
                                </tr>
                            </thead>
                            <tbody>
                                
                                <% if(datosIngresos && datosIngresos.length < 0) {%>
                                    <% datosIngresos.forEach(ingreso => { %>
                                        <tr>
                                            <td><%= new Date(ingreso.fecha).toLocaleDateString('es-ES') %></td>
                                            <td><%= ingreso.descripcion %></td>
                                            <td>₡ <%= ingreso.montoTotal%></td>
                                            <td><%= ingreso.tb_facturas_idtb_facturas %></td>
                                        </tr>
                                    <% }); %> 
                                    
                                <% }else{ %> 
                                    <tr>
                                        <td colspan="4">No hay registros</td>
                                    </tr>
                                    <%}%>
                                
                                
                            </tbody>
                        </table>
                        <button class="btn btn-success" id="generarPdfInventario"><i class="fa-solid fa-file-pdf"></i> Generar PDF</button>
                    </div>
                </section>
            </section>
        </main>
        <%- include('../partials/footer') %>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
        <script src="../public/js/slidebar.js"></script>

        
     <!-- Agregar las librerías de jsPDF y autoTable -->
     <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
     <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>

        
        <script type="" src="js/generarPdf.js"></script>

    </body>
</html>
